<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>×¦×•×¨ ×§×©×¨ - MULTIBRAWN</title>
    <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@300;500;700;900&family=Playfair+Display:wght@700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        :root{
            --brand-purple:#8B5FBF;
            --cta-turquoise:#40E0D0;
            --text-dark:#2d3748;
            --text-muted:#718096;
        }
        *{margin:0;padding:0;box-sizing:border-box}
        body{font-family:'Heebo',sans-serif;background:#fff;color:var(--text-dark);line-height:1.7}
        
        /* Navigation */
        .header-nav{position:fixed;top:0;width:100%;z-index:1000;background:rgba(255,255,255,0.95);backdrop-filter:blur(10px);border-bottom:1px solid #e2e8f0;box-shadow:0 2px 10px rgba(0,0,0,0.05)}
        .nav-content{display:flex;justify-content:space-between;align-items:center;max-width:1400px;margin:0 auto;padding:20px 40px}
        .logo{font-family:'Playfair Display',serif;font-size:2rem;font-weight:900;text-decoration:none;color:var(--text-dark);transition:color 0.3s}
        .logo:hover{color:var(--brand-purple)}
        .nav-menu{display:flex;list-style:none;gap:28px;align-items:center}
        .nav-menu a{color:var(--text-muted);text-decoration:none;font-weight:600;transition:color 0.3s;position:relative}
        .nav-menu a::after{content:'';position:absolute;bottom:-5px;left:0;width:0;height:2px;background:var(--brand-purple);transition:width 0.3s}
        .nav-menu a:hover::after,.nav-menu a.active::after{width:100%}
        .nav-menu a.active,.nav-menu a:hover{color:var(--brand-purple)}
        
        /* Hero */
        .hero{min-height:60vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,rgba(102,126,234,0.95),rgba(139,95,191,0.95)),url('https://images.unsplash.com/photo-1582268611958-ebfd161ef9cf?w=1600&q=80') center/cover;text-align:center;color:#fff;padding-top:100px;position:relative}
        .hero::before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:radial-gradient(circle at 30% 50%,rgba(64,224,208,0.2),transparent)}
        .hero-content{max-width:900px;padding:4rem 2rem;position:relative;z-index:1}
        .hero-title{font-family:'Playfair Display',serif;font-size:clamp(3rem,8vw,5rem);font-weight:900;margin-bottom:2rem;animation:fadeInUp 1s}
        .hero-subtitle{font-size:clamp(1.2rem,3vw,1.6rem);line-height:1.8;animation:fadeInUp 1s 0.2s both}
        
        /* Chat Section */
        .chat-section{padding:6rem 2rem;background:linear-gradient(135deg,#f5f3ff,#fef3f5)}
        .chat-container{max-width:900px;margin:0 auto;background:#fff;border-radius:30px;overflow:hidden;box-shadow:0 30px 90px rgba(139,95,191,0.25)}
        .chat-header{background:linear-gradient(135deg,#667eea,var(--brand-purple));padding:2rem;text-align:center;color:#fff}
        .chat-title{font-family:'Playfair Display',serif;font-size:2.2rem;font-weight:900;margin-bottom:0.8rem}
        .chat-subtitle{opacity:0.95;font-size:1.1rem}
        .chat-messages{min-height:550px;max-height:650px;overflow-y:auto;padding:2.5rem;background:#fff}
        .chat-messages::-webkit-scrollbar{width:8px}
        .chat-messages::-webkit-scrollbar-track{background:#f1f1f1;border-radius:10px}
        .chat-messages::-webkit-scrollbar-thumb{background:var(--brand-purple);border-radius:10px}
        
        /* Messages */
        .message{margin-bottom:2rem;animation:fadeInUp 0.5s;opacity:0;animation-fill-mode:forwards}
        .message.bot{text-align:right}
        .message.user{text-align:left}
        .message-bubble{display:inline-block;max-width:80%;padding:1.5rem 2rem;border-radius:25px;box-shadow:0 4px 15px rgba(0,0,0,0.08)}
        .message.bot .message-bubble{background:#f8f9fa;border:1px solid #e2e8f0}
        .message.user .message-bubble{background:linear-gradient(135deg,var(--cta-turquoise),#5ce1e6);color:#fff;font-weight:500}
        
        /* Response Options */
        .response-options{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;margin-top:1.5rem}
        .response-option{background:#fff;border:2px solid #e8e8e8;border-radius:25px;padding:2.5rem 2rem;cursor:pointer;transition:all 0.3s;text-align:center}
        .response-option:hover{border-color:var(--cta-turquoise);transform:translateY(-8px);box-shadow:0 25px 50px rgba(64,224,208,0.3)}
        .response-option.selected{border-color:var(--cta-turquoise);background:rgba(64,224,208,0.05)}
        .option-icon{font-size:3.5rem;margin-bottom:1rem}
        .option-title{font-weight:800;margin-bottom:0.5rem;font-size:1.2rem;color:var(--text-dark)}
        .option-desc{color:var(--text-muted);font-size:0.95rem}
        
        /* Input Section */
        .input-section{margin-top:1.5rem}
        .chat-input{width:100%;padding:14px 18px;border:2px solid #e2e8f0;border-radius:15px;font-size:1rem;font-family:'Heebo',sans-serif;transition:border-color 0.3s}
        .chat-input:focus{outline:none;border-color:var(--cta-turquoise)}
        .chat-textarea{min-height:100px;resize:vertical}
        .continue-btn{background:linear-gradient(135deg,var(--cta-turquoise),#5ce1e6);color:#fff;border:none;padding:14px 36px;border-radius:30px;font-weight:700;cursor:pointer;margin-top:1rem;font-size:1.05rem;transition:all 0.3s;box-shadow:0 8px 25px rgba(64,224,208,0.3)}
        .continue-btn:hover{transform:translateY(-2px);box-shadow:0 12px 35px rgba(64,224,208,0.4)}
        .continue-btn:disabled{opacity:0.5;cursor:not-allowed}
        
        /* Checkbox Group */
        .checkbox-group{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:0.8rem;margin-top:1rem}
        .checkbox-item{display:flex;align-items:center;gap:0.7rem;padding:1rem;background:#f8f9fa;border-radius:12px;cursor:pointer;transition:all 0.3s;border:2px solid transparent}
        .checkbox-item:hover{background:#e8f5ff;border-color:var(--cta-turquoise)}
        .checkbox-item input[type="checkbox"]{width:20px;height:20px;cursor:pointer;accent-color:var(--cta-turquoise)}
        .checkbox-item.checked{background:rgba(64,224,208,0.1);border-color:var(--cta-turquoise)}
        
        /* Range Slider */
        .range-display{text-align:center;font-size:1.5rem;font-weight:700;color:var(--cta-turquoise);margin:1rem 0}
        input[type="range"]{width:100%;height:8px;border-radius:5px;background:#e2e8f0;outline:none;margin-top:1rem}
        input[type="range"]::-webkit-slider-thumb{appearance:none;width:24px;height:24px;border-radius:50%;background:var(--cta-turquoise);cursor:pointer;box-shadow:0 4px 12px rgba(64,224,208,0.4)}
        input[type="range"]::-moz-range-thumb{width:24px;height:24px;border-radius:50%;background:var(--cta-turquoise);cursor:pointer;box-shadow:0 4px 12px rgba(64,224,208,0.4)}
        
        /* WhatsApp Section */
        .whatsapp-section{text-align:center;padding:3rem 2rem;background:rgba(37,211,102,0.08);border-radius:25px;margin-top:2rem}
        .whatsapp-title{font-family:'Playfair Display',serif;font-size:2rem;font-weight:900;margin-bottom:1.5rem;color:var(--text-dark)}
        .whatsapp-preview{background:#fff;border:2px solid rgba(37,211,102,0.2);border-radius:20px;padding:2rem;margin:2rem auto;text-align:right;line-height:2;max-width:600px;box-shadow:0 8px 25px rgba(37,211,102,0.15)}
        .whatsapp-preview strong{color:#25d366;font-weight:700}
        .whatsapp-btn{background:linear-gradient(135deg,#25d366,#20ba5a);color:#fff;padding:18px 45px;border:none;border-radius:50px;font-size:1.2rem;font-weight:700;display:inline-flex;align-items:center;gap:12px;text-decoration:none;transition:all 0.3s;box-shadow:0 8px 25px rgba(37,211,102,0.3);cursor:pointer}
        .whatsapp-btn:hover{transform:translateY(-3px);box-shadow:0 12px 35px rgba(37,211,102,0.4)}
        .whatsapp-btn i{font-size:1.5rem}
        
        /* Contact Info */
        .contact-info{padding:6rem 2rem;background:#fafafa}
        .section-title{font-family:'Playfair Display',serif;font-size:3rem;text-align:center;margin-bottom:3rem;color:var(--brand-purple);font-weight:900}
        .contact-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:2.5rem;max-width:1200px;margin:0 auto}
        .contact-card{text-align:center;padding:3rem 2rem;background:#fff;border-radius:25px;border:2px solid #f0f0f0;transition:all 0.4s;box-shadow:0 8px 25px rgba(0,0,0,0.05)}
        .contact-card:hover{transform:translateY(-10px);box-shadow:0 25px 50px rgba(139,95,191,0.2);border-color:var(--brand-purple)}
        .contact-icon{width:90px;height:90px;background:linear-gradient(135deg,#667eea,var(--brand-purple));border-radius:25px;display:flex;align-items:center;justify-content:center;color:#fff;font-size:2.5rem;margin:0 auto 2rem;transition:transform 0.3s}
        .contact-card:hover .contact-icon{transform:scale(1.1) rotate(5deg)}
        .contact-card h3{font-size:1.5rem;margin-bottom:0.8rem;font-weight:700;color:var(--text-dark)}
        .contact-card p{color:var(--text-muted);margin-bottom:1rem}
        .contact-card a{color:var(--brand-purple);text-decoration:none;font-weight:700;font-size:1.1rem;transition:color 0.3s}
        .contact-card a:hover{color:var(--cta-turquoise)}
        
        /* Loading Animation */
        .typing-indicator{display:inline-flex;gap:5px;padding:1rem 1.5rem}
        .typing-indicator span{width:8px;height:8px;background:var(--text-muted);border-radius:50%;animation:typing 1.4s infinite}
        .typing-indicator span:nth-child(2){animation-delay:0.2s}
        .typing-indicator span:nth-child(3){animation-delay:0.4s}
        
        @keyframes typing{
            0%,60%,100%{transform:translateY(0);opacity:0.5}
            30%{transform:translateY(-10px);opacity:1}
        }
        
        @keyframes fadeInUp{
            from{opacity:0;transform:translateY(30px)}
            to{opacity:1;transform:translateY(0)}
        }
        
        /* Responsive */
        @media(max-width:768px){
            .response-options,.checkbox-group,.contact-grid{grid-template-columns:1fr}
            .chat-messages{min-height:400px;max-height:500px}
            .hero-title{font-size:2.5rem}
            .nav-content{padding:15px 20px}
            .nav-menu{gap:15px;font-size:0.9rem}
        }
    </style>
</head>
<body>
    <header class="header-nav">
        <nav class="nav-content">
            <a href="index.html" class="logo">MULTIBRAWN</a>
            <ul class="nav-menu">
                <li><a href="index.html">×“×£ ×”×‘×™×ª</a></li>
                <li><a href="about.html">××•×“×•×ª</a></li>
                <li><a href="gallery.html">×’×œ×¨×™×”</a></li>
                <li><a href="contact.html" class="active">×¦×•×¨ ×§×©×¨</a></li>
            </ul>
        </nav>
    </header>

    <section class="hero">
        <div class="hero-content">
            <h1 class="hero-title">×‘×•××• × ×“×‘×¨</h1>
            <p class="hero-subtitle">×™×© ×œ×›× ×œ×•×§×™×™×©×Ÿ ××¤× ×§? ××—×¤×©×™× ×œ×”×’×“×™×œ ××ª ×”×—×©×™×¤×”?<br>×¡×¤×¨×• ×œ× ×• ×™×•×ª×¨ ×¢×œ ×”××§×•× ×©×œ×›×</p>
        </div>
    </section>

    <section class="chat-section">
        <div class="chat-container">
            <div class="chat-header">
                <div class="chat-title">×¡×¤×¨×• ×œ× ×• ×¢×œ×™×›×</div>
                <div class="chat-subtitle">× ×©××— ×œ×”×›×™×¨ ×•×œ×”×‘×™×Ÿ ××™×š × ×•×›×œ ×œ×¢×–×•×¨</div>
            </div>
            <div class="chat-messages" id="chatMessages"></div>
        </div>
    </section>

    <section class="contact-info">
        <h2 class="section-title">×“×¨×›×™× × ×•×¡×¤×•×ª ×œ×™×¦×•×¨ ×§×©×¨</h2>
        <div class="contact-grid">
            <div class="contact-card">
                <div class="contact-icon"><i class="fab fa-whatsapp"></i></div>
                <h3>WhatsApp</h3>
                <p>×”×ª×›×ª×‘×• ××™×ª× ×• ×™×©×™×¨×•×ª</p>
                <a href="https://wa.me/972523983394" target="_blank">×©×œ×—×• ×”×•×“×¢×” <i class="fas fa-arrow-left"></i></a>
            </div>
            <div class="contact-card">
                <div class="contact-icon"><i class="fas fa-phone"></i></div>
                <h3>×˜×œ×¤×•×Ÿ</h3>
                <p>×”×ª×§×©×¨×• ××œ×™× ×•</p>
                <a href="tel:+972523983394">052-398-3394</a>
            </div>
            <div class="contact-card">
                <div class="contact-icon"><i class="fas fa-envelope"></i></div>
                <h3>×“×•×"×œ</h3>
                <p>×©×œ×—×• ×œ× ×• ××™×™×œ</p>
                <a href="mailto:info@multibrawn.com">info@multibrawn.com</a>
            </div>
            <div class="contact-card">
                <div class="contact-icon"><i class="fab fa-instagram"></i></div>
                <h3>××™× ×¡×˜×’×¨×</h3>
                <p>×¢×§×‘×• ××—×¨×™× ×•</p>
                <a href="https://instagram.com/multibrawn" target="_blank">@multibrawn</a>
            </div>
        </div>
    </section>

    <script>
        const chatData = {
            userAnswers: {},
            currentStep: 0,
            questions: [
                {
                    id: 'businessType',
                    bot: '×©×œ×•×! ğŸ‘‹ ×× ×™ ×›××Ÿ ×›×“×™ ×œ×”×›×™×¨ ××ª×›× ×˜×•×‘ ×™×•×ª×¨. ×‘×•××• × ×ª×—×™×œ - ××™×–×” ×¡×•×’ ×¢×¡×§ ×™×© ×œ×›×?',
                    type: 'options',
                    options: [
                        { icon: 'ğŸ¨', title: '××œ×•×Ÿ ×‘×•×˜×™×§', desc: '××œ×•×Ÿ ×¢× ××•×¤×™ ×™×™×—×•×“×™', value: 'hotel' },
                        { icon: 'ğŸ¡', title: '×•×™×œ×” ×œ×”×©×›×¨×”', desc: '×•×™×œ×” ×¤×¨×˜×™×ª ×œ××™×¨×•×¢×™×', value: 'villa' },
                        { icon: 'ğŸ•ï¸', title: '×¦×™××¨', desc: '×¦×™××¨ ×¨×•×× ×˜×™', value: 'zimmer' },
                        { icon: 'ğŸ¢', title: '××ª×—× ××™×¨×•×¢×™×', desc: '××•×œ× ××• ×’×Ÿ ××™×¨×•×¢×™×', value: 'venue' },
                        { icon: 'ğŸ–ï¸', title: '××—×¨', desc: '×¡×•×’ ×¢×¡×§ ××—×¨', value: 'other' }
                    ]
                },
                {
                    id: 'propertyName',
                    bot: '××¢×•×œ×”! ××™×š ×§×•×¨××™× ×œ××§×•× ×©×œ×›×? ğŸ·ï¸',
                    type: 'text',
                    placeholder: '×©× ×”× ×›×¡ ××• ×”×¢×¡×§...'
                },
                {
                    id: 'location',
                    bot: '××™×¤×” × ××¦× ×”××§×•× ×©×œ×›×? ğŸ“',
                    type: 'text',
                    placeholder: '×¢×™×¨ ××• ××–×•×¨...'
                },
                {
                    id: 'capacity',
                    bot: '×›××” ×× ×©×™× ×™×›×•×œ×™× ×œ×”×ª××¨×— ××¦×œ×›× ×‘×• ×–×× ×™×ª? ğŸ‘¥',
                    type: 'range',
                    min: 2,
                    max: 200,
                    unit: '×× ×©×™×'
                },
                {
                    id: 'amenities',
                    bot: '××™×œ×• ×©×™×¨×•×ª×™× ×•××ª×§× ×™× ×™×© ××¦×œ×›×? (××¤×©×¨ ×œ×‘×—×•×¨ ×›××” ×©×¨×•×¦×™×) âœ¨',
                    type: 'checkbox',
                    options: [
                        { label: 'ğŸŠâ€â™‚ï¸ ×‘×¨×™×›×”', value: 'pool' },
                        { label: 'ğŸ§–â€â™€ï¸ ×’\'×§×•×–×™', value: 'jacuzzi' },
                        { label: 'ğŸ– ×‘×¨×‘×™×§×™×•', value: 'bbq' },
                        { label: 'ğŸŒ³ ×’×™× ×”', value: 'garden' },
                        { label: 'ğŸ® ×—×“×¨ ××©×—×§×™×', value: 'gameroom' },
                        { label: 'ğŸµ ××¢×¨×›×ª ×©××¢', value: 'sound' },
                        { label: 'ğŸ½ï¸ ××˜×‘×— ×××•×‘×–×¨', value: 'kitchen' },
                        { label: 'ğŸš— ×—× ×™×”', value: 'parking' }
                    ]
                },
                {
                    id: 'goals',
                    bot: '××” ×”××˜×¨×•×ª ×©×œ×›×? ××” ×ª×¨×¦×• ×œ×”×©×™×’? ğŸ¯',
                    type: 'checkbox',
                    options: [
                        { label: 'ğŸ“ˆ ×œ×”×’×“×™×œ ×ª×¤×•×¡×”', value: 'occupancy' },
                        { label: 'ğŸŒ ×œ×©×¤×¨ × ×•×›×—×•×ª ×“×™×’×™×˜×œ×™×ª', value: 'digital' },
                        { label: 'ğŸ’° ×œ×”×’×“×™×œ ×”×›× ×¡×•×ª', value: 'revenue' },
                        { label: 'â­ ×œ×©×¤×¨ ×“×™×¨×•×’', value: 'rating' },
                        { label: 'ğŸ“¸ ×¦×™×œ×•× ××§×¦×•×¢×™', value: 'photos' },
                        { label: 'ğŸ¨ ×¢×™×¦×•×‘ ××—×“×©', value: 'redesign' }
                    ]
                },
                {
                    id: 'contactName',
                    bot: '××™×š ××¤×©×¨ ×œ×§×¨×•× ×œ×›×? ğŸ˜Š',
                    type: 'text',
                    placeholder: '×”×©× ×©×œ×š...'
                },
                {
                    id: 'phone',
                    bot: '×•××” ××¡×¤×¨ ×”×˜×œ×¤×•×Ÿ ×©×œ×›×? ğŸ“±',
                    type: 'text',
                    placeholder: '050-1234567',
                    inputType: 'tel'
                },
                {
                    id: 'notes',
                    bot: '×™×© ×¢×•×“ ××©×”×• ×©×ª×¨×¦×• ×œ×¡×¤×¨ ×œ× ×•? (××•×¤×¦×™×•× ×œ×™) ğŸ’­',
                    type: 'textarea',
                    placeholder: '×›×œ ××™×“×¢ × ×•×¡×£ ×©×ª×¨×¦×• ×œ×©×ª×£...',
                    optional: true
                }
            ]
        };

        const chatMessages = document.getElementById('chatMessages');
        let messageDelay = 0;

        function addMessage(text, isBot = true, delay = 800) {
            setTimeout(() => {
                const message = document.createElement('div');
                message.className = `message ${isBot ? 'bot' : 'user'}`;
                message.style.animationDelay = '0s';
                
                const bubble = document.createElement('div');
                bubble.className = 'message-bubble';
                bubble.innerHTML = text;
                
                message.appendChild(bubble);
                chatMessages.appendChild(message);
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }, delay);
            
            return delay + 800;
        }

        function showTypingIndicator() {
            const typing = document.createElement('div');
            typing.className = 'message bot';
            typing.id = 'typing';
            typing.innerHTML = '<div class="message-bubble typing-indicator"><span></span><span></span><span></span></div>';
            chatMessages.appendChild(typing);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function hideTypingIndicator() {
            const typing = document.getElementById('typing');
            if (typing) typing.remove();
        }

        function showQuestion(questionIndex) {
            if (questionIndex >= chatData.questions.length) {
                showSummary();
                return;
            }

            const question = chatData.questions[questionIndex];
            
            showTypingIndicator();
            
            setTimeout(() => {
                hideTypingIndicator();
                messageDelay = addMessage(question.bot, true, 0);
                
                setTimeout(() => {
                    if (question.type === 'options') {
                        showOptions(question);
                    } else if (question.type === 'checkbox') {
                        showCheckboxes(question);
                    } else if (question.type === 'range') {
                        showRange(question);
                    } else if (question.type === 'text' || question.type === 'textarea') {
                        showTextInput(question);
                    }
                }, 500);
            }, 1000);
        }

        function showOptions(question) {
            const optionsDiv = document.createElement('div');
            optionsDiv.className = 'message bot';
            optionsDiv.style.animationDelay = '0s';
            
            const optionsContainer = document.createElement('div');
            optionsContainer.className = 'response-options';
            
            question.options.forEach(option => {
                const optionEl = document.createElement('div');
                optionEl.className = 'response-option';
                optionEl.innerHTML = `
                    <div class="option-icon">${option.icon}</div>
                    <div class="option-title">${option.title}</div>
                    <div class="option-desc">${option.desc}</div>
                `;
                
                optionEl.onclick = () => {
                    chatData.userAnswers[question.id] = option.value;
                    addMessage(`${option.icon} ${option.title}`, false, 0);
                    optionsDiv.remove();
                    chatData.currentStep++;
                    showQuestion(chatData.currentStep);
                };
                
                optionsContainer.appendChild(optionEl);
            });
            
            optionsDiv.appendChild(optionsContainer);
            chatMessages.appendChild(optionsDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function showCheckboxes(question) {
            const checkboxDiv = document.createElement('div');
            checkboxDiv.className = 'message bot';
            checkboxDiv.style.animationDelay = '0s';
            
            const container = document.createElement('div');
            container.innerHTML = '<div class="checkbox-group"></div>';
            const checkboxGroup = container.querySelector('.checkbox-group');
            
            const selectedValues = [];
            
            question.options.forEach((option, index) => {
                const item = document.createElement('div');
                item.className = 'checkbox-item';
                item.innerHTML = `
                    <input type="checkbox" id="cb${index}" value="${option.value}">
                    <label for="cb${index}">${option.label}</label>
                `;
                
                const checkbox = item.querySelector('input');
                checkbox.onchange = () => {
                    if (checkbox.checked) {
                        selectedValues.push(option.value);
                        item.classList.add('checked');
                    } else {
                        const idx = selectedValues.indexOf(option.value);
                        if (idx > -1) selectedValues.splice(idx, 1);
                        item.classList.remove('checked');
                    }
                };
                
                checkboxGroup.appendChild(item);
            });
            
            const btnContainer = document.createElement('div');
            btnContainer.className = 'input-section';
            btnContainer.innerHTML = '<button class="continue-btn">×”××©×š â†</button>';
            
            const btn = btnContainer.querySelector('.continue-btn');
            btn.onclick = () => {
                if (selectedValues.length > 0) {
                    chatData.userAnswers[question.id] = selectedValues;
                    const selectedLabels = question.options
                        .filter(opt => selectedValues.includes(opt.value))
                        .map(opt => opt.label)
                        .join(', ');
                    addMessage(selectedLabels, false, 0);
                    checkboxDiv.remove();
                    chatData.currentStep++;
                    showQuestion(chatData.currentStep);
                }
            };
            
            container.appendChild(btnContainer);
            checkboxDiv.appendChild(container);
            chatMessages.appendChild(checkboxDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function showRange(question) {
            const rangeDiv = document.createElement('div');
            rangeDiv.className = 'message bot';
            rangeDiv.style.animationDelay = '0s';
            
            const container = document.createElement('div');
            container.innerHTML = `
                <div class="range-display">${question.min} ${question.unit}</div>
                <input type="range" min="${question.min}" max="${question.max}" value="${question.min}" step="1">
                <div class="input-section">
                    <button class="continue-btn">×”××©×š â†</button>
                </div>
            `;
            
            const display = container.querySelector('.range-display');
            const slider = container.querySelector('input[type="range"]');
            const btn = container.querySelector('.continue-btn');
            
            slider.oninput = () => {
                display.textContent = `${slider.value} ${question.unit}`;
            };
            
            btn.onclick = () => {
                chatData.userAnswers[question.id] = slider.value;
                addMessage(`${slider.value} ${question.unit}`, false, 0);
                rangeDiv.remove();
                chatData.currentStep++;
                showQuestion(chatData.currentStep);
            };
            
            rangeDiv.appendChild(container);
            chatMessages.appendChild(rangeDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function showTextInput(question) {
            const inputDiv = document.createElement('div');
            inputDiv.className = 'message bot';
            inputDiv.style.animationDelay = '0s';
            
            const inputType = question.type === 'textarea' ? 'textarea' : 'input';
            const inputTag = question.type === 'textarea' ? 
                `<textarea class="chat-input chat-textarea" placeholder="${question.placeholder}"></textarea>` :
                `<input type="${question.inputType || 'text'}" class="chat-input" placeholder="${question.placeholder}">`;
            
            const container = document.createElement('div');
            container.innerHTML = `
                <div class="input-section">
                    ${inputTag}
                    <button class="continue-btn">×”××©×š â†</button>
                </div>
            `;
            
            const input = container.querySelector(question.type === 'textarea' ? 'textarea' : 'input');
            const btn = container.querySelector('.continue-btn');
            
            input.addEventListener('keypress', (e) => {
                if (e.key === 'Enter' && question.type !== 'textarea') {
                    e.preventDefault();
                    btn.click();
                }
            });
            
            btn.onclick = () => {
                const value = input.value.trim();
                if (value || question.optional) {
                    chatData.userAnswers[question.id] = value;
                    if (value) {
                        addMessage(value, false, 0);
                    } else {
                        addMessage('(×“×™×œ×’×ª×™)', false, 0);
                    }
                    inputDiv.remove();
                    chatData.currentStep++;
                    showQuestion(chatData.currentStep);
                }
            };
            
            inputDiv.appendChild(container);
            chatMessages.appendChild(inputDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
            
            setTimeout(() => input.focus(), 100);
        }

        function showSummary() {
            showTypingIndicator();
            
            setTimeout(() => {
                hideTypingIndicator();
                addMessage('×ª×•×“×” ×¨×‘×”! ğŸ™ ×§×™×‘×œ×ª×™ ××ª ×›×œ ×”×¤×¨×˜×™×.', true, 0);
                
                setTimeout(() => {
                    const summaryDiv = document.createElement('div');
                    summaryDiv.className = 'message bot';
                    summaryDiv.style.animationDelay = '0s';
                    
                    const whatsappMessage = generateWhatsAppMessage();
                    
                    summaryDiv.innerHTML = `
                        <div class="whatsapp-section">
                            <h3 class="whatsapp-title">×›×œ ×”×¤×¨×˜×™× ××•×›× ×™×! ğŸ‰</h3>
                            <p style="margin-bottom:2rem;color:var(--text-muted);font-size:1.1rem">
                                ×œ×—×¦×• ×¢×œ ×”×›×¤×ª×•×¨ ×œ××˜×” ×›×“×™ ×œ×©×œ×•×— ××ª ×”×¤×¨×˜×™× ××œ×™× ×• ×‘-WhatsApp
                            </p>
                            <div class="whatsapp-preview">
                                ${whatsappMessage.replace(/\n/g, '<br>')}
                            </div>
                            <a href="https://wa.me/972523983394?text=${encodeURIComponent(whatsappMessage)}" 
                               target="_blank" 
                               class="whatsapp-btn">
                                <i class="fab fa-whatsapp"></i>
                                ×©×œ×—×• ×‘-WhatsApp
                            </a>
                            <p style="margin-top:2rem;color:var(--text-muted);font-size:0.95rem">
                                ğŸ’¡ ××• ×©××¨×• ××ª ×”×¤×¨×˜×™× ×•×”×ª×§×©×¨×• ××œ×™× ×•: <strong>052-398-3394</strong>
                            </p>
                        </div>
                    `;
                    
                    chatMessages.appendChild(summaryDiv);
                    chatMessages.scrollTop = chatMessages.scrollHeight;
                }, 1500);
            }, 1000);
        }

        function generateWhatsAppMessage() {
            const answers = chatData.userAnswers;
            const questions = chatData.questions;
            
            let message = 'ğŸŒŸ *×¤×¨×˜×™× ××”×©××œ×•×Ÿ - MULTIBRAWN* ğŸŒŸ\n\n';
            
            // Business Type
            const businessTypes = {
                hotel: '××œ×•×Ÿ ×‘×•×˜×™×§',
                villa: '×•×™×œ×” ×œ×”×©×›×¨×”',
                zimmer: '×¦×™××¨',
                venue: '××ª×—× ××™×¨×•×¢×™×',
                other: '××—×¨'
            };
            message += `*×¡×•×’ ×”×¢×¡×§:* ${businessTypes[answers.businessType] || answers.businessType}\n`;
            
            // Property Name
            if (answers.propertyName) {
                message += `*×©× ×”× ×›×¡:* ${answers.propertyName}\n`;
            }
            
            // Location
            if (answers.location) {
                message += `*××™×§×•×:* ${answers.location}\n`;
            }
            
            // Capacity
            if (answers.capacity) {
                message += `*×§×™×‘×•×œ×ª:* ${answers.capacity} ×× ×©×™×\n`;
            }
            
            // Amenities
            if (answers.amenities && answers.amenities.length > 0) {
                const amenitiesMap = {
                    pool: '×‘×¨×™×›×”',
                    jacuzzi: '×’\'×§×•×–×™',
                    bbq: '×‘×¨×‘×™×§×™×•',
                    garden: '×’×™× ×”',
                    gameroom: '×—×“×¨ ××©×—×§×™×',
                    sound: '××¢×¨×›×ª ×©××¢',
                    kitchen: '××˜×‘×— ×××•×‘×–×¨',
                    parking: '×—× ×™×”'
                };
                const amenitiesList = answers.amenities.map(a => amenitiesMap[a]).join(', ');
                message += `*××ª×§× ×™×:* ${amenitiesList}\n`;
            }
            
            // Goals
            if (answers.goals && answers.goals.length > 0) {
                const goalsMap = {
                    occupancy: '×œ×”×’×“×™×œ ×ª×¤×•×¡×”',
                    digital: '×œ×©×¤×¨ × ×•×›×—×•×ª ×“×™×’×™×˜×œ×™×ª',
                    revenue: '×œ×”×’×“×™×œ ×”×›× ×¡×•×ª',
                    rating: '×œ×©×¤×¨ ×“×™×¨×•×’',
                    photos: '×¦×™×œ×•× ××§×¦×•×¢×™',
                    redesign: '×¢×™×¦×•×‘ ××—×“×©'
                };
                const goalsList = answers.goals.map(g => goalsMap[g]).join(', ');
                message += `*××˜×¨×•×ª:* ${goalsList}\n`;
            }
            
            message += '\nğŸ‘¤ *×¤×¨×˜×™ ×§×©×¨:*\n';
            
            // Contact Name
            if (answers.contactName) {
                message += `*×©×:* ${answers.contactName}\n`;
            }
            
            // Phone
            if (answers.phone) {
                message += `*×˜×œ×¤×•×Ÿ:* ${answers.phone}\n`;
            }
            
            // Notes
            if (answers.notes) {
                message += `\nğŸ“ *×”×¢×¨×•×ª × ×•×¡×¤×•×ª:*\n${answers.notes}\n`;
            }
            
            message += '\nâœ¨ ××—×›×” ×œ×©××•×¢ ××›×!';
            
            return message;
        }

        // Start the conversation
        window.addEventListener('load', () => {
            setTimeout(() => {
                showQuestion(0);
            }, 500);
        });

        // Smooth scroll for navigation
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });
    </script>
</body>
</html>
